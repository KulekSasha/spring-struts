<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <constant name="struts.devMode" value="true"/>

    <!--<package name="helloworld" extends="struts-default">-->

    <!--&lt;!&ndash;<action name="delete"&ndash;&gt;-->
    <!--&lt;!&ndash;class="com.nix.struts.AdminAction"&ndash;&gt;-->
    <!--&lt;!&ndash;method="adminDeleteUserPost">&ndash;&gt;-->
    <!--&lt;!&ndash;<result name="success">/WEB-INF/jsp/admin/admin.jsp</result>&ndash;&gt;-->
    <!--&lt;!&ndash;&lt;!&ndash;<interceptor-ref name="basicStack"/>&ndash;&gt;&ndash;&gt;-->
    <!--&lt;!&ndash;</action>&ndash;&gt;-->

    <!--<action name="users"-->
    <!--class="com.nix.struts.AdminAction"-->
    <!--method="adminPageGet" converter="com.nix.">-->
    <!--<result name="success">/WEB-INF/jsp/admin/admin.jsp</result>-->
    <!--<interceptor-ref name="DefaultWorkflowInterceptor">-->
    <!--<param name="includeMethods">POST</param>-->
    <!--</interceptor-ref>-->

    <!--</action>-->

    <!--</package>-->


    <package name="default" namespace="/" extends="struts-default">

        <interceptors>
            <interceptor name="unique-login" class="com.nix.struts.interceptor.UniqueLoginInterceptor"/>
        </interceptors>

        <action name="admin/users/add" method="adminAddUser" class="com.nix.struts.AdminAction">
            <result name="success">/WEB-INF/jsp/admin/admin_add.jsp</result>
            <result name="notAllowed" type="redirect">/WEB-INF/jsp/errors/405.jsp</result>

        </action>

        <action name="admin/users/addDo" method="adminAddUserDo"
                class="com.nix.struts.AdminAction">
            <result name="success" type="redirect">admin/users</result>
            <result name="input">/WEB-INF/jsp/admin/admin_add.jsp</result>
            <interceptor-ref name="defaultStack"/>
            <interceptor-ref name="unique-login">
                <param name="loginField">newUser.login</param>
            </interceptor-ref>

        </action>

        <action name="admin/users" method="adminPageGet" class="com.nix.struts.AdminAction">
            <result name="success">/WEB-INF/jsp/admin/admin.jsp</result>
            <result name="login">/WEB-INF/jsp/login.jsp</result>
        </action>
    </package>

</struts>